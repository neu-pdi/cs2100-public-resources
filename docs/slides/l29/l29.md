---
marp: true
style: @import url('https://unpkg.com/tailwindcss@^2/dist/utilities.min.css');

---

# Graphs and Union-Find
## Welcome back to CS 2100!
## Prof. Rasika Bhalerao

---

Let's use recursion to search for an element in a `Tree`:

```python
class Tree(Generic[T]):
    def __init__(self, root_data: Optional[T] = None) -> None:
        if root_data is None:
            self.root: Optional[Node[T]] = None
        else:
            self.root = Node[T](root_data)
    
    def __str__(self) -> str:
        return self.root.__str__()
    
    def __contains__(self, item: T) -> bool:
        return self.contains(item, self.root)
    
    def contains(self, item: T, node: Optional[Node[T]]) -> bool:
        if node is None:
            return False
        elif node.data == item:
            return True
        else:
            return self.contains(item, node.left) or self.contains(item, node.right)

tree: Tree[str] = Tree[str]('Entry way')

assert tree.root is not None
tree.root.left = Node[str]('Living room')

tree.root.left.right = Node[str]('Kitchen')

print('Kitchen' in tree)  # True
print('Bathroom' in tree)  # False
```

---

![Slide13](https://github.com/user-attachments/assets/6a627c0f-867f-45b6-8afa-3d20b67d9ff8)

---

![Slide14](https://github.com/user-attachments/assets/c70db772-73be-42b2-aa90-ee6a5225ba84)

---

![Slide15](https://github.com/user-attachments/assets/5b3fe703-eb21-472f-92f4-a2bba567d815)

---

![Slide16](https://github.com/user-attachments/assets/c55f2f3d-c335-424f-9054-202d244c7313)

---

![Slide17](https://github.com/user-attachments/assets/6e7a9ff3-b044-4197-b577-bad02df80d76)

---

![Slide18](https://github.com/user-attachments/assets/b52ca5ca-0efc-4f27-a2bf-a92d4b6690f8)

---

![Slide19](https://github.com/user-attachments/assets/4c29b0dd-9f43-4899-b287-55fa0892bb5e)

---

![Slide20](https://github.com/user-attachments/assets/9e9782bc-ae40-4c16-9a41-465dcc11ba88)

---

![Slide21](https://github.com/user-attachments/assets/a3ca4d23-3296-4eb3-b5ad-e6bb87d89050)

---

![Slide22](https://github.com/user-attachments/assets/b7f77aeb-8e8a-463d-a85c-fc517a73e03c)

---

![Slide23](https://github.com/user-attachments/assets/a56e13a7-e7e6-44a8-8a77-9eb471b97359)

---

![Slide24](https://github.com/user-attachments/assets/06e27194-206f-4c4e-9549-b88fa98bbd48)

---

![Slide25](https://github.com/user-attachments/assets/89856963-8d71-4580-8b5b-d53811316fe4)

---

![Slide26](https://github.com/user-attachments/assets/cb218201-9c0b-488d-9063-e69c0c64de54)

---

![Slide27](https://github.com/user-attachments/assets/5f1cbec5-0e43-4bea-abe1-ed496bfd47ce)

---

![Slide28](https://github.com/user-attachments/assets/a0bf8c01-b0a0-4fe2-a7cc-9a9d167880a8)

---

![Slide29](https://github.com/user-attachments/assets/f03cc2cc-bba6-47a8-ba61-f704b733d981)

---

![Slide30](https://github.com/user-attachments/assets/2bc2ec91-b7e1-44c0-9387-f5757b3fab28)

---

# That recursive backtracking algorithm is called **Depth-First Search**, since it explores "deep" in one area before moving on to other unexplored "shallow" places (closer to the root).


---

## Poll: This is pseudocode for a Depth-First Search on a graph that is not a tree (because it has cycles). What's a good base case?

```
DFS(node):
    Base case:
        ???
    Recursive case:
        For each child:
            Add child to explored nodes
            DFS(child)
```
1. If the node is in the set of explored nodes, do nothing
2. If the node is a leaf, add it to the set of explored nodes
3. If the node is `None`, do nothing
4. If the node is `None`, add it to the set of explored nodes

---

# Graphs which might not be trees

- No root or leaves
- Instead of having parent-child relationships:
  - Directed graph: edges point _from_ one node _to_ another
  - Undirected graph: edges do not have a specific direction; all edges go both ways

| Graph term | Definition | Social network example |
|-|-|-|
| Node | Same as tree's node | A person |
| Directed edge | Edge points from one node to another | It's possible Blob is Glob's friend but not vice versa |
| Undirected edge | Edge must go both ways | If Blob is Glob's friend, then Glob must be Blob's friend |

---

<div class="grid grid-cols-2 gap-4">
<div>

```python
class Person:
    def __init__(self, person_id: str):
        self.id = person_id
        self.friends: set[Person] = set()
    
    def __str__(self) -> str:
        return self.id
    
    def __repr__(self) -> str:
        return self.__str__()

class SocialGraph:
    def __init__(self, location: str) -> None:
        self.people: set[Person] = set()
        self.location = location
    
    def __str__(self) -> str:
        return f'People in {self.location}: {self.people}'
```

</div>
<div>


```python
students = SocialGraph('Oakland')

me = Person('Rasika')
students.people.add(me)

mini = Person('Mini')
students.people.add(mini)

me.friends.add(mini)
mini.friends.add(me)

print(students)  # People in Oakland: {Mini, Rasika}

famous_person = Person('Famous')
students.people.add(famous_person)

me.friends.add(famous_person)
mini.friends.add(famous_person)

print(me.friends)  # {Mini, Famous}
print(mini.friends)  # {Rasika, Famous}
print(famous_person.friends)  # set()
```

</div>
</div>

---

## Poll: Is our social media graph above directed or undirected?

1. Directed
2. Undirected

---

![Slide1](UF1.jpg)

---

![Slide2](UF2.jpg)

---

![Slide3](UF3.jpg)

---

![Slide4](UF4.jpg)

---

![Slide5](UF5.jpg)

---

![Slide6](UF6.jpg)

---

![Slide7](UF7.jpg)

---

![Slide8](UF8.jpg)

---

![Slide9](UF9.jpg)

---

![Slide10](UF10.jpg)

---

![Slide11](UF11.jpg)

---

![Slide12](UF12.jpg)

---

![Slide13](UF13.jpg)

---

![Slide14](UF14.jpg)

---

![Slide15](UF15.jpg)

---

![Slide16](UF16.jpg)

---

![Slide17](UF17.jpg)

---

# Poll:

# 1. What is your main takeaway from today?

# 2. What would you like to revisit next time?